<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mesa 1 | Keleo App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        keleo: {
                            50: '#f5f3ff',
                            100: '#ede9fe',
                            200: '#ddd6fe',
                            500: '#8b5cf6',
                            600: '#7c3aed',
                            700: '#6d28d9',
                            900: '#4c1d95',
                        },
                        dark: {
                            bg: '#0f172a',
                            card: '#1e293b',
                            border: '#334155',
                            text: '#f8fafc',
                            sidebar: '#111827'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out',
                        'slide-up': 'slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(100%)' },
                            '100%': { transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body, div, nav, aside, input, button, a, span, h1, h2, h3, p, li {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
        }
        
        /* Glassmorphism Styles */
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(226, 232, 240, 0.6);
        }
        .dark .glass-panel {
            background: rgba(17, 24, 39, 0.85);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .glass-header {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.6);
        }
        .dark .glass-header {
            background: rgba(15, 23, 42, 0.9);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        .dark .glass-card {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
        }

        /* Glass Floating Bar */
        .glass-float {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(226, 232, 240, 0.6);
            box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
        }
        .dark .glass-float {
            background: rgba(15, 23, 42, 0.95);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Mobile specific hiding for Ticket */
        @media (max-width: 1023px) {
            .ticket-hidden {
                transform: translateY(110%);
            }
            .ticket-visible {
                transform: translateY(0);
            }
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        ::-webkit-scrollbar {
            width: 4px;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #475569;
        }
    </style>
</head>
<body class="font-sans text-gray-700 bg-gray-50 dark:bg-dark-bg dark:text-gray-300 h-screen overflow-hidden flex selection:bg-keleo-200 dark:selection:bg-keleo-900">

    <!-- SIDEBAR (Solo Desktop) -->
    <aside class="w-20 lg:w-64 glass-panel hidden lg:flex flex-col z-30 relative h-full transition-all duration-300 border-r border-gray-200 dark:border-white/5">
        <!-- Logo Area -->
        <div class="h-16 flex items-center justify-center lg:justify-start lg:px-6 border-b border-gray-200/50 dark:border-white/5">
            <a href="#" class="flex items-center gap-2 group">
                <div class="w-9 h-9 bg-keleo-600 rounded-xl flex items-center justify-center text-white text-base shadow-lg shadow-keleo-500/20">
                    <i class="fas fa-utensils"></i>
                </div>
                <span class="text-xl font-bold text-gray-800 dark:text-white tracking-tight hidden lg:block">Keleo</span>
            </a>
        </div>

        <div class="flex-grow overflow-y-auto py-6 space-y-1">
            <div class="px-3 mb-4">
                <a href="#" class="flex items-center justify-center lg:justify-start gap-3 px-3 py-3 bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20 rounded-xl transition font-bold text-sm">
                    <i class="fas fa-arrow-left"></i>
                    <span class="hidden lg:inline">Volver</span>
                </a>
            </div>
            
            <a href="#" class="flex items-center justify-center lg:justify-start gap-3 px-3 py-3 mx-3 bg-keleo-50/80 dark:bg-keleo-900/30 text-keleo-700 dark:text-keleo-300 rounded-xl transition font-medium border border-keleo-100 dark:border-transparent">
                <i class="fas fa-clipboard-list w-5 text-center"></i>
                <span class="hidden lg:inline">Comanda</span>
            </a>
            
            <a href="#" class="flex items-center justify-center lg:justify-start gap-3 px-3 py-3 mx-3 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5 rounded-xl transition font-medium">
                <i class="fas fa-history w-5 text-center"></i>
                <span class="hidden lg:inline">Historial</span>
            </a>
        </div>
        
        <!-- User Profile Desktop -->
        <div class="p-4 border-t border-gray-200/50 dark:border-white/5 mt-auto">
            <div class="flex items-center gap-3 px-2">
                <img src="https://i.pravatar.cc/150?u=a042581f4e29026704d" alt="User" class="w-8 h-8 rounded-full border border-gray-200 dark:border-gray-700">
                <div class="hidden lg:block overflow-hidden">
                    <p class="text-sm font-bold text-gray-800 dark:text-white truncate">Juan P.</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- MAIN WRAPPER -->
    <div class="flex-1 flex flex-col h-full overflow-hidden relative w-full">
        
        <!-- Mobile Background Decoration -->
        <div class="absolute inset-0 pointer-events-none z-0 overflow-hidden">
             <div class="absolute -top-20 -right-20 w-64 h-64 bg-keleo-400/10 dark:bg-keleo-900/20 rounded-full blur-[80px]"></div>
        </div>

        <!-- HEADER (Mobile Optimized) -->
        <header class="h-16 lg:h-20 glass-header flex items-center justify-between px-4 lg:px-6 z-20 sticky top-0 shrink-0 shadow-sm lg:shadow-none">
            
            <!-- Mobile Left: Back & Title -->
            <div class="flex items-center gap-3 lg:gap-4 flex-1">
                <a href="#" class="lg:hidden w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300 active:scale-95 transition">
                    <i class="fas fa-arrow-left text-sm"></i>
                </a>

                <div class="flex flex-col">
                    <h1 class="text-base lg:text-lg font-bold text-gray-900 dark:text-white leading-tight">
                        Mesa 1
                        <span class="inline-flex items-center justify-center px-1.5 py-0.5 ml-1 rounded text-[10px] font-bold bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 uppercase tracking-wide">Libre</span>
                    </h1>
                    <p class="text-xs text-gray-500 dark:text-gray-400 truncate max-w-[150px] sm:max-w-none">Juan P√©rez ‚Ä¢ 4 Personas</p>
                </div>
            </div>

            <!-- Mobile Right: Actions -->
            <div class="flex items-center gap-2 lg:gap-3">
                <!-- Mobile Search Toggle -->
                <button onclick="toggleMobileSearch()" class="lg:hidden w-9 h-9 rounded-full flex items-center justify-center text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5 active:bg-gray-200 dark:active:bg-white/10 transition">
                    <i class="fas fa-search text-sm"></i>
                </button>

                <!-- Desktop Search -->
                <div class="hidden lg:block w-64 relative">
                    <input type="text" placeholder="Buscar..." class="w-full pl-9 pr-4 py-2 bg-gray-100/50 dark:bg-black/20 border border-transparent focus:bg-white dark:focus:bg-dark-card border-gray-200 dark:border-white/5 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-keleo-500/50 transition-all text-gray-700 dark:text-gray-200">
                    <i class="fas fa-search absolute left-3 top-2.5 text-gray-400 text-xs"></i>
                </div>

                <button id="theme-toggle" class="w-9 h-9 rounded-full flex items-center justify-center text-gray-500 dark:text-yellow-400 bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 border border-gray-200 dark:border-transparent transition">
                    <i id="theme-icon" class="fas fa-moon text-xs"></i>
                </button>
            </div>
            
            <!-- Mobile Search Bar (Overlay) -->
            <div id="mobile-search-bar" class="absolute inset-x-0 top-0 h-16 bg-white dark:bg-dark-card z-30 flex items-center px-4 hidden shadow-md animate-fade-in">
                <i class="fas fa-search text-gray-400 mr-3"></i>
                <input type="text" id="mobile-search-input" placeholder="Buscar platillo..." class="flex-1 bg-transparent border-none focus:ring-0 text-gray-800 dark:text-white text-base h-full placeholder-gray-400">
                <button onclick="toggleMobileSearch()" class="p-2 ml-2 text-gray-500 dark:text-gray-400">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </header>

        <!-- CONTENT AREA -->
        <main class="flex-1 flex overflow-hidden relative">
            
            <!-- PRODUCT MENU (Full Width on Mobile) -->
            <div class="flex-1 flex flex-col overflow-hidden bg-white/30 dark:bg-black/10 w-full relative">
                
                <!-- Category Tabs (Horizontal Scroll) -->
                <div class="p-3 lg:p-4 pb-2 z-10 bg-white/50 dark:bg-dark-bg/50 backdrop-blur-sm sticky top-0">
                    <div class="flex gap-2 overflow-x-auto no-scrollbar pb-1 touch-pan-x">
                        <button class="flex-shrink-0 px-4 py-2.5 bg-keleo-600 text-white rounded-full shadow-lg shadow-keleo-500/30 text-sm font-bold whitespace-nowrap active:scale-95 transition">
                            <i class="fas fa-star mr-1"></i> Top
                        </button>
                        <button class="flex-shrink-0 px-4 py-2.5 bg-white dark:bg-dark-card border border-gray-200 dark:border-white/5 text-gray-700 dark:text-gray-300 rounded-full text-sm font-bold whitespace-nowrap active:bg-gray-100 dark:active:bg-white/10 transition shadow-sm">
                            üçî Burgers
                        </button>
                        <button class="flex-shrink-0 px-4 py-2.5 bg-white dark:bg-dark-card border border-gray-200 dark:border-white/5 text-gray-700 dark:text-gray-300 rounded-full text-sm font-bold whitespace-nowrap active:bg-gray-100 dark:active:bg-white/10 transition shadow-sm">
                            üçï Pizzas
                        </button>
                        <button class="flex-shrink-0 px-4 py-2.5 bg-white dark:bg-dark-card border border-gray-200 dark:border-white/5 text-gray-700 dark:text-gray-300 rounded-full text-sm font-bold whitespace-nowrap active:bg-gray-100 dark:active:bg-white/10 transition shadow-sm">
                            üåÆ Tacos
                        </button>
                        <button class="flex-shrink-0 px-4 py-2.5 bg-white dark:bg-dark-card border border-gray-200 dark:border-white/5 text-gray-700 dark:text-gray-300 rounded-full text-sm font-bold whitespace-nowrap active:bg-gray-100 dark:active:bg-white/10 transition shadow-sm">
                            üç∫ Bebidas
                        </button>
                    </div>
                </div>

                <!-- Products Grid -->
                <div class="flex-1 overflow-y-auto p-3 lg:p-4 pb-24 lg:pb-4 touch-pan-y">
                    <h3 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3 ml-1">Recomendados</h3>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 lg:gap-4">
                        
                        <!-- Mobile Product Card (Row Style optimized for touch) -->
                        <div class="glass-card p-2 rounded-xl flex sm:flex-col gap-3 group active:scale-[0.98] transition-transform duration-100 relative overflow-hidden">
                            <!-- Image -->
                            <div class="w-24 h-24 sm:w-full sm:h-36 flex-shrink-0 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center relative overflow-hidden">
                                <i class="fas fa-hamburger text-3xl sm:text-5xl text-orange-500/50"></i>
                            </div>
                            
                            <!-- Content -->
                            <div class="flex-1 flex flex-col justify-between py-1">
                                <div>
                                    <div class="flex justify-between items-start">
                                        <h4 class="font-bold text-gray-800 dark:text-white text-base leading-tight mb-1">Keleo Burger</h4>
                                        <span class="bg-gray-100 dark:bg-white/10 text-gray-800 dark:text-white text-xs font-bold px-2 py-0.5 rounded-md">$180</span>
                                    </div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed">Doble carne premium, queso cheddar, cebolla caramelizada.</p>
                                </div>
                                <button onclick="addToCart()" class="mt-2 w-full py-2 bg-keleo-50 dark:bg-white/5 text-keleo-700 dark:text-keleo-300 rounded-lg text-sm font-bold flex items-center justify-center gap-2 active:bg-keleo-100 dark:active:bg-white/10 transition">
                                    <i class="fas fa-plus"></i> Agregar
                                </button>
                            </div>
                        </div>

                         <!-- Card 2 -->
                         <div class="glass-card p-2 rounded-xl flex sm:flex-col gap-3 group active:scale-[0.98] transition-transform duration-100 relative overflow-hidden">
                            <div class="w-24 h-24 sm:w-full sm:h-36 flex-shrink-0 rounded-lg bg-red-100 dark:bg-red-900/20 flex items-center justify-center relative overflow-hidden">
                                <i class="fas fa-pizza-slice text-3xl sm:text-5xl text-red-500/50"></i>
                            </div>
                            <div class="flex-1 flex flex-col justify-between py-1">
                                <div>
                                    <div class="flex justify-between items-start">
                                        <h4 class="font-bold text-gray-800 dark:text-white text-base leading-tight mb-1">Pizza Italiana</h4>
                                        <span class="bg-gray-100 dark:bg-white/10 text-gray-800 dark:text-white text-xs font-bold px-2 py-0.5 rounded-md">$220</span>
                                    </div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed">Mozzarella fresca, albahaca, tomate san marzano.</p>
                                </div>
                                <button onclick="addToCart()" class="mt-2 w-full py-2 bg-keleo-50 dark:bg-white/5 text-keleo-700 dark:text-keleo-300 rounded-lg text-sm font-bold flex items-center justify-center gap-2 active:bg-keleo-100 dark:active:bg-white/10 transition">
                                    <i class="fas fa-plus"></i> Agregar
                                </button>
                            </div>
                        </div>

                        <!-- Card 3 -->
                        <div class="glass-card p-2 rounded-xl flex sm:flex-col gap-3 group active:scale-[0.98] transition-transform duration-100 relative overflow-hidden">
                            <div class="w-24 h-24 sm:w-full sm:h-36 flex-shrink-0 rounded-lg bg-green-100 dark:bg-green-900/20 flex items-center justify-center relative overflow-hidden">
                                <i class="fas fa-leaf text-3xl sm:text-5xl text-green-500/50"></i>
                            </div>
                            <div class="flex-1 flex flex-col justify-between py-1">
                                <div>
                                    <div class="flex justify-between items-start">
                                        <h4 class="font-bold text-gray-800 dark:text-white text-base leading-tight mb-1">Cesar Salad</h4>
                                        <span class="bg-gray-100 dark:bg-white/10 text-gray-800 dark:text-white text-xs font-bold px-2 py-0.5 rounded-md">$140</span>
                                    </div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed">Lechuga romana, crutones, parmesano, aderezo de la casa.</p>
                                </div>
                                <button onclick="addToCart()" class="mt-2 w-full py-2 bg-keleo-50 dark:bg-white/5 text-keleo-700 dark:text-keleo-300 rounded-lg text-sm font-bold flex items-center justify-center gap-2 active:bg-keleo-100 dark:active:bg-white/10 transition">
                                    <i class="fas fa-plus"></i> Agregar
                                </button>
                            </div>
                        </div>

                         <!-- Card 4 -->
                         <div class="glass-card p-2 rounded-xl flex sm:flex-col gap-3 group active:scale-[0.98] transition-transform duration-100 relative overflow-hidden">
                            <div class="w-24 h-24 sm:w-full sm:h-36 flex-shrink-0 rounded-lg bg-yellow-100 dark:bg-yellow-900/20 flex items-center justify-center relative overflow-hidden">
                                <i class="fas fa-beer text-3xl sm:text-5xl text-yellow-500/50"></i>
                            </div>
                            <div class="flex-1 flex flex-col justify-between py-1">
                                <div>
                                    <div class="flex justify-between items-start">
                                        <h4 class="font-bold text-gray-800 dark:text-white text-base leading-tight mb-1">Cerveza Artesanal</h4>
                                        <span class="bg-gray-100 dark:bg-white/10 text-gray-800 dark:text-white text-xs font-bold px-2 py-0.5 rounded-md">$90</span>
                                    </div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed">IPA de la casa, notas c√≠tricas.</p>
                                </div>
                                <button onclick="addToCart()" class="mt-2 w-full py-2 bg-keleo-50 dark:bg-white/5 text-keleo-700 dark:text-keleo-300 rounded-lg text-sm font-bold flex items-center justify-center gap-2 active:bg-keleo-100 dark:active:bg-white/10 transition">
                                    <i class="fas fa-plus"></i> Agregar
                                </button>
                            </div>
                        </div>

                        <div class="glass-card p-2 rounded-xl flex sm:flex-col gap-3 group active:scale-[0.98] transition-transform duration-100 relative overflow-hidden">
                            <div class="w-24 h-24 sm:w-full sm:h-36 flex-shrink-0 rounded-lg bg-yellow-100 dark:bg-yellow-900/20 flex items-center justify-center relative overflow-hidden">
                                <i class="fas fa-beer text-3xl sm:text-5xl text-yellow-500/50"></i>
                            </div>
                            <div class="flex-1 flex flex-col justify-between py-1">
                                <div>
                                    <div class="flex justify-between items-start">
                                        <h4 class="font-bold text-gray-800 dark:text-white text-base leading-tight mb-1">Cerveza Artesanal</h4>
                                        <span class="bg-gray-100 dark:bg-white/10 text-gray-800 dark:text-white text-xs font-bold px-2 py-0.5 rounded-md">$90</span>
                                    </div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed">IPA de la casa, notas c√≠tricas.</p>
                                </div>
                                <button onclick="addToCart()" class="mt-2 w-full py-2 bg-keleo-50 dark:bg-white/5 text-keleo-700 dark:text-keleo-300 rounded-lg text-sm font-bold flex items-center justify-center gap-2 active:bg-keleo-100 dark:active:bg-white/10 transition">
                                    <i class="fas fa-plus"></i> Agregar
                                </button>
                            </div>
                        </div>

                        <div class="glass-card p-2 rounded-xl flex sm:flex-col gap-3 group active:scale-[0.98] transition-transform duration-100 relative overflow-hidden">
                            <div class="w-24 h-24 sm:w-full sm:h-36 flex-shrink-0 rounded-lg bg-yellow-100 dark:bg-yellow-900/20 flex items-center justify-center relative overflow-hidden">
                                <i class="fas fa-beer text-3xl sm:text-5xl text-yellow-500/50"></i>
                            </div>
                            <div class="flex-1 flex flex-col justify-between py-1">
                                <div>
                                    <div class="flex justify-between items-start">
                                        <h4 class="font-bold text-gray-800 dark:text-white text-base leading-tight mb-1">Cerveza Artesanal</h4>
                                        <span class="bg-gray-100 dark:bg-white/10 text-gray-800 dark:text-white text-xs font-bold px-2 py-0.5 rounded-md">$90</span>
                                    </div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed">IPA de la casa, notas c√≠tricas.</p>
                                </div>
                                <button onclick="addToCart()" class="mt-2 w-full py-2 bg-keleo-50 dark:bg-white/5 text-keleo-700 dark:text-keleo-300 rounded-lg text-sm font-bold flex items-center justify-center gap-2 active:bg-keleo-100 dark:active:bg-white/10 transition">
                                    <i class="fas fa-plus"></i> Agregar
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Space for bottom bar on mobile -->
                    <div class="h-20 lg:hidden"></div>
                </div>
            </div>

            <!-- MOBILE BOTTOM CART BAR (Floating) -->
            <div id="bottom-cart-bar" onclick="toggleTicket()" class="fixed bottom-4 left-4 right-4 z-40 lg:hidden glass-float rounded-2xl p-3 flex items-center justify-between cursor-pointer active:scale-95 transition-transform duration-200 border border-white/20 shadow-2xl">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full flex items-center justify-center font-bold text-sm shadow-md">
                        3
                    </div>
                    <div class="flex flex-col">
                        <span class="text-xs text-gray-500 dark:text-gray-400 font-medium">Ver Orden</span>
                        <span class="text-base font-bold text-gray-900 dark:text-white font-mono">$446.60</span>
                    </div>
                </div>
                <div class="flex items-center gap-2 text-keleo-600 dark:text-keleo-400 font-bold text-sm px-2">
                    Ver detalle <i class="fas fa-chevron-up animate-bounce"></i>
                </div>
            </div>

            <!-- TICKET PANEL (Overlay on Mobile, Sidebar on Desktop) -->
            <aside id="ticket-panel" class="ticket-hidden lg:ticket-visible fixed inset-0 lg:static lg:inset-auto z-50 w-full lg:w-96 flex flex-col bg-gray-50 dark:bg-dark-bg lg:bg-transparent transition-transform duration-300 ease-out lg:border-l lg:border-gray-200 lg:dark:border-white/5 lg:glass-panel">
                
                <!-- Ticket Header (Mobile Close Button) -->
                <div class="p-4 border-b border-gray-200 dark:border-white/5 bg-white dark:bg-dark-card lg:bg-white/40 lg:dark:bg-black/20 backdrop-blur-sm flex justify-between items-center shadow-sm lg:shadow-none">
                    <h2 class="font-bold text-gray-800 dark:text-white text-lg flex items-center gap-2">
                        <i class="fas fa-receipt text-keleo-500"></i> Orden Actual
                    </h2>
                    <button onclick="toggleTicket()" class="lg:hidden w-8 h-8 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-gray-600 dark:text-gray-300">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <button class="hidden lg:block text-xs text-keleo-600 dark:text-keleo-400 font-bold hover:underline">Limpiar</button>
                </div>

                <!-- Ticket Items List -->
                <div class="flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/50 dark:bg-black/10">
                    
                    <!-- Item Sent -->
                    <div class="flex flex-col p-3 rounded-xl bg-white dark:bg-white/5 border border-gray-100 dark:border-white/5 opacity-70">
                        <div class="flex justify-between items-start mb-1">
                            <div class="flex gap-3">
                                <span class="bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-bold px-2 py-0.5 rounded h-fit">2x</span>
                                <div>
                                    <p class="text-sm font-bold text-gray-700 dark:text-gray-300">Cerveza Nacional</p>
                                    <p class="text-xs text-green-600 dark:text-green-400 font-medium mt-0.5"><i class="fas fa-check-circle text-[10px] mr-1"></i>Enviado</p>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-gray-700 dark:text-gray-300">$120</span>
                        </div>
                    </div>

                    <!-- Item New (Editable) -->
                    <div class="flex flex-col p-3 rounded-xl bg-white dark:bg-dark-card border-l-4 border-keleo-500 shadow-sm relative group">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex gap-3">
                                <!-- Stepper -->
                                <div class="flex flex-col items-center gap-1 bg-gray-100 dark:bg-white/5 rounded-lg p-0.5 shadow-inner">
                                    <button class="w-7 h-7 flex items-center justify-center text-xs text-gray-500 hover:text-keleo-500 active:bg-gray-200 dark:active:bg-white/10 rounded"><i class="fas fa-plus"></i></button>
                                    <span class="text-sm font-bold text-gray-800 dark:text-white">1</span>
                                    <button class="w-7 h-7 flex items-center justify-center text-xs text-gray-500 hover:text-red-500 active:bg-gray-200 dark:active:bg-white/10 rounded"><i class="fas fa-minus"></i></button>
                                </div>
                                <div>
                                    <p class="text-sm font-bold text-gray-800 dark:text-white">Keleo Burger</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5">T√©rmino medio</p>
                                    <button class="text-[10px] text-blue-500 font-bold mt-2 px-2 py-1 bg-blue-50 dark:bg-blue-900/20 rounded hover:bg-blue-100 transition"><i class="fas fa-pen mr-1"></i>Editar nota</button>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-gray-800 dark:text-white">$180</span>
                        </div>
                        <button class="absolute right-0 top-0 p-2 text-gray-300 hover:text-red-500 transition">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>

                    <!-- Item New (Editable) -->
                    <div class="flex flex-col p-3 rounded-xl bg-white dark:bg-dark-card border-l-4 border-keleo-500 shadow-sm relative group">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex gap-3">
                                <div class="flex flex-col items-center gap-1 bg-gray-100 dark:bg-white/5 rounded-lg p-0.5 shadow-inner">
                                    <button class="w-7 h-7 flex items-center justify-center text-xs text-gray-500 hover:text-keleo-500 active:bg-gray-200 dark:active:bg-white/10 rounded"><i class="fas fa-plus"></i></button>
                                    <span class="text-sm font-bold text-gray-800 dark:text-white">1</span>
                                    <button class="w-7 h-7 flex items-center justify-center text-xs text-gray-500 hover:text-red-500 active:bg-gray-200 dark:active:bg-white/10 rounded"><i class="fas fa-minus"></i></button>
                                </div>
                                <div>
                                    <p class="text-sm font-bold text-gray-800 dark:text-white">Papas Fritas</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5">Sin sal</p>
                                </div>
                            </div>
                            <span class="text-sm font-bold text-gray-800 dark:text-white">$85</span>
                        </div>
                         <button class="absolute right-0 top-0 p-2 text-gray-300 hover:text-red-500 transition">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="h-20 lg:hidden"></div>
                </div>

                <!-- Footer Summary (Fixed at bottom of ticket panel) -->
                <div class="p-4 bg-white dark:bg-dark-card border-t border-gray-200 dark:border-white/5 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-20">
                    <div class="space-y-1 mb-3">
                        <div class="flex justify-between text-xs text-gray-500 dark:text-gray-400">
                            <span>Subtotal</span>
                            <span>$385.00</span>
                        </div>
                        <div class="flex justify-between text-xs text-gray-500 dark:text-gray-400">
                            <span>Impuestos</span>
                            <span>$61.60</span>
                        </div>
                        <div class="flex justify-between text-xl font-bold text-gray-900 dark:text-white pt-2 border-t border-gray-100 dark:border-white/5 mt-1">
                            <span>Total</span>
                            <span class="text-keleo-600 dark:text-keleo-400">$446.60</span>
                        </div>
                    </div>

                    <button class="w-full py-3.5 bg-keleo-600 hover:bg-keleo-700 text-white rounded-xl shadow-lg shadow-keleo-500/30 font-bold text-base transition transform active:scale-[0.98] flex items-center justify-center gap-2 mb-2">
                        <i class="fas fa-paper-plane"></i> Enviar a Cocina (2)
                    </button>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <button class="py-3 bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-white rounded-xl font-bold text-sm active:scale-95 transition">
                            Pre-cuenta
                        </button>
                        <button class="py-3 bg-blue-500 text-white rounded-xl font-bold text-sm shadow-md shadow-blue-500/20 active:scale-95 transition">
                            Cobrar
                        </button>
                    </div>
                </div>

            </aside>
        </main>
    </div>

    <!-- Logic Scripts -->
    <script>
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const htmlElement = document.documentElement;
        
        // Mobile UI Logic
        const ticketPanel = document.getElementById('ticket-panel');
        const bottomCartBar = document.getElementById('bottom-cart-bar');
        
        function toggleTicket() {
            // Only acts on mobile where ticket-hidden class is relevant
            if (window.innerWidth < 1024) {
                const isHidden = ticketPanel.classList.contains('ticket-hidden');
                
                if (isHidden) {
                    ticketPanel.classList.remove('ticket-hidden');
                    ticketPanel.classList.add('ticket-visible');
                    bottomCartBar.classList.add('translate-y-24'); // Hide bottom bar
                } else {
                    ticketPanel.classList.remove('ticket-visible');
                    ticketPanel.classList.add('ticket-hidden');
                    bottomCartBar.classList.remove('translate-y-24'); // Show bottom bar
                }
            }
        }

        function toggleMobileSearch() {
            const searchBar = document.getElementById('mobile-search-bar');
            const searchInput = document.getElementById('mobile-search-input');
            
            if (searchBar.classList.contains('hidden')) {
                searchBar.classList.remove('hidden');
                searchInput.focus();
            } else {
                searchBar.classList.add('hidden');
            }
        }

        function addToCart() {
            // Animation feedback mock
            const bottomBar = document.getElementById('bottom-cart-bar');
            bottomBar.classList.add('scale-105');
            setTimeout(() => bottomBar.classList.remove('scale-105'), 200);
            
            // If ticket is open (mobile), maybe shake the list or show toast
        }

        // Dark Mode Logic
        const savedTheme = localStorage.getItem('theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        function applyTheme(isDark) {
            if (isDark) {
                htmlElement.classList.add('dark');
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            } else {
                htmlElement.classList.remove('dark');
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
        }

        if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
            applyTheme(true);
        } else {
            applyTheme(false);
        }

        themeToggleBtn.addEventListener('click', () => {
            const isDark = htmlElement.classList.contains('dark');
            if (isDark) {
                applyTheme(false);
                localStorage.setItem('theme', 'light');
            } else {
                applyTheme(true);
                localStorage.setItem('theme', 'dark');
            }
        });
    </script>
</body>
</html>